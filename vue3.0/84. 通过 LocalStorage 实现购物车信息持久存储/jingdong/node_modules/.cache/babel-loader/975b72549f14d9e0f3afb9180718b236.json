{"remainingRequest":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/babel-loader/lib/index.js!/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/src/views/shop/Content.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/src/views/shop/Content.vue","mtime":1608007384847},{"path":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/node_modules/vue-loader-v16/dist/index.js","mtime":1607095271000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NzYXlsby9EZXNrdG9wL3dlYi1yZXN0YXJ0L3Z1ZTMuMC84NC4gXHU5MDFBXHU4RkM3IExvY2FsU3RvcmFnZSBcdTVCOUVcdTczQjBcdThEMkRcdTcyNjlcdThGNjZcdTRGRTFcdTYwNkZcdTYzMDFcdTRFNDVcdTVCNThcdTUwQTgvamluZ2Rvbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmLCB0b1JlZnMsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IHVzZUNvbW1vbkNhcnRFZmZlY3QgfSBmcm9tICcuL2NvbW1vbkNhcnRFZmZlY3QnOwp2YXIgY2F0ZWdvcmllcyA9IFt7CiAgbmFtZTogJ+WFqOmDqOWVhuWTgScsCiAgdGFiOiAnYWxsJwp9LCB7CiAgbmFtZTogJ+enkuadgCcsCiAgdGFiOiAnc2Vja2lsbCcKfSwgewogIG5hbWU6ICfmlrDpspzmsLTmnpwnLAogIHRhYjogJ2ZydWl0Jwp9XTsgLy8gVGFiIOWIh+aNouebuOWFs+eahOmAu+i+kQoKdmFyIHVzZVRhYkVmZmVjdCA9IGZ1bmN0aW9uIHVzZVRhYkVmZmVjdCgpIHsKICB2YXIgY3VycmVudFRhYiA9IHJlZihjYXRlZ29yaWVzWzBdLnRhYik7CgogIHZhciBoYW5kbGVUYWJDbGljayA9IGZ1bmN0aW9uIGhhbmRsZVRhYkNsaWNrKHRhYikgewogICAgY3VycmVudFRhYi52YWx1ZSA9IHRhYjsKICB9OwoKICByZXR1cm4gewogICAgY3VycmVudFRhYjogY3VycmVudFRhYiwKICAgIGhhbmRsZVRhYkNsaWNrOiBoYW5kbGVUYWJDbGljawogIH07Cn07IC8vIOWIl+ihqOWGheWuueebuOWFs+eahOmAu+i+kQoKCnZhciB1c2VDdXJyZW50TGlzdEVmZmVjdCA9IGZ1bmN0aW9uIHVzZUN1cnJlbnRMaXN0RWZmZWN0KGN1cnJlbnRUYWIsIHNob3BJZCkgewogIHZhciBjb250ZW50ID0gcmVhY3RpdmUoewogICAgbGlzdDogW10KICB9KTsKCiAgdmFyIGdldENvbnRlbnREYXRhID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3Jlc3VsdCRkYXRhOwoKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoIi9hcGkvc2hvcC8iLmNvbmNhdChzaG9wSWQsICIvcHJvZHVjdHMiKSwgewogICAgICAgICAgICAgICAgdGFiOiBjdXJyZW50VGFiLnZhbHVlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZXJybm8pID09PSAwICYmIHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiAoX3Jlc3VsdCRkYXRhID0gcmVzdWx0LmRhdGEpICE9PSBudWxsICYmIF9yZXN1bHQkZGF0YSAhPT0gdm9pZCAwICYmIF9yZXN1bHQkZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGNvbnRlbnQubGlzdCA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGdldENvbnRlbnREYXRhKCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHdhdGNoRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGdldENvbnRlbnREYXRhKCk7CiAgfSk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGNvbnRlbnQpLAogICAgICBsaXN0ID0gX3RvUmVmcy5saXN0OwoKICByZXR1cm4gewogICAgbGlzdDogbGlzdAogIH07Cn07IC8vIOi0reeJqei9puebuOWFs+mAu+i+kQoKCnZhciB1c2VDYXJ0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ2FydEVmZmVjdCgpIHsKICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICB2YXIgX3VzZUNvbW1vbkNhcnRFZmZlY3QgPSB1c2VDb21tb25DYXJ0RWZmZWN0KCksCiAgICAgIGNhcnRMaXN0ID0gX3VzZUNvbW1vbkNhcnRFZmZlY3QuY2FydExpc3QsCiAgICAgIGNoYW5nZUNhcnRJdGVtSW5mbyA9IF91c2VDb21tb25DYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtSW5mbzsKCiAgdmFyIGNoYW5nZVNob3BOYW1lID0gZnVuY3Rpb24gY2hhbmdlU2hvcE5hbWUoc2hvcElkLCBzaG9wTmFtZSkgewogICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VTaG9wTmFtZScsIHsKICAgICAgc2hvcElkOiBzaG9wSWQsCiAgICAgIHNob3BOYW1lOiBzaG9wTmFtZQogICAgfSk7CiAgfTsKCiAgdmFyIGNoYW5nZUNhcnRJdGVtID0gZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW0oc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSwgc2hvcE5hbWUpIHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbyhzaG9wSWQsIHByb2R1Y3RJZCwgaXRlbSwgbnVtKTsKICAgIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpOwogIH07CgogIHZhciBnZXRQcm9kdWN0Q2FydENvdW50ID0gZnVuY3Rpb24gZ2V0UHJvZHVjdENhcnRDb3VudChzaG9wSWQsIHByb2R1Y3RJZCkgewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMjsKCiAgICByZXR1cm4gKGNhcnRMaXN0ID09PSBudWxsIHx8IGNhcnRMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCA9IGNhcnRMaXN0W3Nob3BJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QgPSBfY2FydExpc3Qkc2hvcElkLnByb2R1Y3RMaXN0KSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkJHByb2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QyID0gX2NhcnRMaXN0JHNob3BJZCRwcm9kW3Byb2R1Y3RJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIuY291bnQpIHx8IDA7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGNhcnRMaXN0OiBjYXJ0TGlzdCwKICAgIGNoYW5nZUNhcnRJdGVtOiBjaGFuZ2VDYXJ0SXRlbSwKICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250ZW50JywKICBwcm9wczogWydzaG9wTmFtZSddLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgc2hvcElkID0gcm91dGUucGFyYW1zLmlkOwoKICAgIHZhciBfdXNlVGFiRWZmZWN0ID0gdXNlVGFiRWZmZWN0KCksCiAgICAgICAgY3VycmVudFRhYiA9IF91c2VUYWJFZmZlY3QuY3VycmVudFRhYiwKICAgICAgICBoYW5kbGVUYWJDbGljayA9IF91c2VUYWJFZmZlY3QuaGFuZGxlVGFiQ2xpY2s7CgogICAgdmFyIF91c2VDdXJyZW50TGlzdEVmZmVjdCA9IHVzZUN1cnJlbnRMaXN0RWZmZWN0KGN1cnJlbnRUYWIsIHNob3BJZCksCiAgICAgICAgbGlzdCA9IF91c2VDdXJyZW50TGlzdEVmZmVjdC5saXN0OwoKICAgIHZhciBfdXNlQ2FydEVmZmVjdCA9IHVzZUNhcnRFZmZlY3QoKSwKICAgICAgICBjaGFuZ2VDYXJ0SXRlbSA9IF91c2VDYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtLAogICAgICAgIGNhcnRMaXN0ID0gX3VzZUNhcnRFZmZlY3QuY2FydExpc3QsCiAgICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudCA9IF91c2VDYXJ0RWZmZWN0LmdldFByb2R1Y3RDYXJ0Q291bnQ7CgogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllcywKICAgICAgY3VycmVudFRhYjogY3VycmVudFRhYiwKICAgICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrLAogICAgICBsaXN0OiBsaXN0LAogICAgICBzaG9wSWQ6IHNob3BJZCwKICAgICAgY2hhbmdlQ2FydEl0ZW06IGNoYW5nZUNhcnRJdGVtLAogICAgICBjYXJ0TGlzdDogY2FydExpc3QsCiAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/ssaylo/Desktop/web-restart/vue3.0/84. 通过 LocalStorage 实现购物车信息持久存储/jingdong/src/views/shop/Content.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{'category__item': true, 'category__item--active': currentTab === item.tab}\"\n        v-for=\"item in categories\"\n        :key=\"item.name\"\n        @click=\"() => handleTabClick(item.tab)\"\n      >\n        {{item.name}}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div\n        class=\"product__item\"\n        v-for=\"item in list\"\n        :key=\"item._id\"\n      >\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{item.name}}</h4>\n          <p class=\"product__item__sales\">月售 {{item.sales}} 件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{item.price}}\n            <span class=\"product__item__origin\">&yen;{{item.oldPrice}}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\n          >-</span>\n            {{getProductCartCount(shopId, item._id)}}\n          <span\n            class=\"product__number__plus\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\n          >+</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { get } from '../../utils/request'\nimport { useCommonCartEffect } from './commonCartEffect'\n\nconst categories = [\n  { name: '全部商品', tab: 'all' },\n  { name:'秒杀', tab: 'seckill' },\n  { name: '新鲜水果', tab: 'fruit'}\n]\n\n// Tab 切换相关的逻辑\nconst useTabEffect = () => {\n  const currentTab = ref(categories[0].tab)\n  const handleTabClick = (tab) => {\n    currentTab.value = tab\n  }\n  return { currentTab, handleTabClick}\n}\n\n// 列表内容相关的逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n  const content = reactive({ list: [] })\n  const getContentData = async () => {\n    const result = await get(`/api/shop/${shopId}/products`, {\n      tab: currentTab.value\n    })\n    if(result?.errno === 0 && result?.data?.length) {\n      content.list = result.data;\n    }\n  }\n  watchEffect(() => { getContentData() })\n  const { list } = toRefs(content)\n  return { list }\n}\n\n// 购物车相关逻辑\nconst useCartEffect = () => {\n  const store = useStore()\n  const { cartList, changeCartItemInfo } = useCommonCartEffect()\n  const changeShopName = (shopId, shopName) => {\n    store.commit('changeShopName', { shopId, shopName })\n  }\n  const changeCartItem = (shopId, productId, item, num, shopName) => {\n    changeCartItemInfo(shopId, productId, item, num)\n    changeShopName(shopId, shopName)\n  }\n  const getProductCartCount = (shopId, productId) => {\n    return cartList?.[shopId]?.productList?.[productId]?.count || 0\n  }\n  return { cartList, changeCartItem, getProductCartCount }\n}\n\nexport default {\n  name: 'Content',\n  props: ['shopName'],\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { currentTab, handleTabClick } = useTabEffect()\n    const { list } = useCurrentListEffect(currentTab, shopId)\n    const { changeCartItem, cartList, getProductCartCount } = useCartEffect()\n    return {\n      categories, currentTab, handleTabClick, list,\n      shopId, changeCartItem, cartList, getProductCartCount\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.content {\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 1.5rem;\n  bottom: .5rem;\n}\n.category {\n  overflow-y: scroll;\n  height: 100%;\n  width: .76rem;\n  background: $search-bgColor;\n  &__item {\n    line-height: .4rem;\n    text-align: center;\n    font-size: 14px;\n    color: #333;\n    &--active {\n      background: $bgColor;\n    }\n  }\n}\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  &__item {\n    position: relative;\n    display: flex;\n    padding: .12rem 0;\n    margin: 0 .16rem;\n    border-bottom: .01rem solid $content-bgColor;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: .68rem;\n      height: .68rem;\n      margin-right: .16rem;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: .06rem 0;\n      font-size: .12rem;\n      color: $content-fontcolor;\n    }\n    &__price {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n    &__origin {\n      margin-left: .06rem;\n      line-height: .2rem;\n      font-size: .12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: .12rem;\n      &__minus, &__plus\n       {\n        display: inline-block;\n        width: .2rem;\n        height: .2rem;\n        line-height: .16rem;;\n        border-radius: 50%;\n        font-size: .2rem;\n        text-align: center;\n      }\n      &__minus {\n        border: .01rem solid $medium-fontColor;\n        color: $medium-fontColor;\n        margin-right: .05rem;\n      }\n      &__plus {\n        background: $btn-bgColor;\n        color: $bgColor;\n        margin-left: .05rem;\n      }\n    }\n  }\n  \n}\n</style>\n"],"sourceRoot":""}]}